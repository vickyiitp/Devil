import{r as a,I as e}from"./index-D1Pec2V-.js";import{S as X}from"./SectionHeader-CMkmIfBy.js";import{c as i}from"./cms-66TvDIJ4.js";import{r as K}from"./resolveMedia-C_HTZBoC.js";const Y="http://localhost:8000",Z=async c=>{console.log("Admin login attempt:",c.username);const t=await fetch(`${Y}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!t.ok){const R=await t.text();throw console.error("Login failed:",R),new Error("Invalid username or password.")}const L=await t.json();return console.log("Login successful"),{token:L.access_token}},ee=({token:c,blog:t,onSuccess:L,onCancel:R})=>{const[s,C]=a.useState({title:(t==null?void 0:t.title)||"",excerpt:(t==null?void 0:t.excerpt)||"",content:(t==null?void 0:t.content)||"",author:(t==null?void 0:t.author)||"Technoyuga",published:(t==null?void 0:t.published)||!1,featured:(t==null?void 0:t.featured)||!1}),[I,V]=a.useState(!1),[f,_]=a.useState(null),[n,U]=a.useState(null),[N,A]=a.useState(t==null?void 0:t.featured_image),[J,E]=a.useState(t==null?void 0:t.thumbnail_image),[$,P]=a.useState(!1),[S,g]=a.useState(""),[q,h]=a.useState(""),O=a.useRef(null),F=a.useRef(null),B=m=>{const{name:b,value:u,type:v}=m.target,y=m.target.checked;C(M=>({...M,[b]:v==="checkbox"?y:u}))},z=(m,b)=>{var y;const u=(y=b.target.files)==null?void 0:y[0];if(!u)return;if(!u.type.startsWith("image/")){g("Please select a valid image file");return}if(u.size>5*1024*1024){g("Image size must be less than 5MB");return}const v=new FileReader;v.onloadend=()=>{m==="featured"?(_(u),A(v.result)):(U(u),E(v.result))},v.readAsDataURL(u)},T=async m=>{m.preventDefault(),P(!0),g(""),h("");try{let b=t==null?void 0:t.featured_image,u=t==null?void 0:t.thumbnail_image;f&&(b=(await i.uploadImage(c,f,"blogs",{used_in:"blog",alt_text:s.title})).storage_url),n&&(u=(await i.uploadImage(c,n,"blogs",{used_in:"blog_thumbnail",alt_text:`${s.title} thumbnail`})).storage_url);const v={...s,featured_image:b,thumbnail_image:u};I&&(v.published=!0),t?(await i.updateBlog(c,t.id,v),h("Blog updated successfully!")):(await i.createBlog(c,v),h("Blog created successfully!")),setTimeout(()=>{L()},1200)}catch(b){g(b instanceof Error?b.message:"Failed to create blog")}finally{P(!1)}},H=async m=>{m.preventDefault(),P(!0),g("");try{const b=c;let u=t==null?void 0:t.featured_image,v=t==null?void 0:t.thumbnail_image;f&&(u=(await i.uploadImage(b,f,"blogs",{used_in:"blog",alt_text:s.title})).storage_url),n&&(v=(await i.uploadImage(b,n,"blogs",{used_in:"blog_thumbnail",alt_text:`${s.title} thumbnail`})).storage_url);const y={...s,featured_image:u,thumbnail_image:v,published:!1};let M;t?M=await i.updateBlog(b,t.id,y):M=await i.createBlog(b,y);const D=`${window.location.origin}/#/blog/${M.slug}?preview=1`;window.open(D,"_blank"),h("Preview opened in a new tab")}catch(b){g(b instanceof Error?b.message:"Failed to preview blog")}finally{P(!1)}};return e.jsxs("div",{className:"bg-devil-gray/50 rounded-lg p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-devil-red",children:t?"Edit Blog":"Create New Blog"}),e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),S&&e.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-md text-red-400",children:S}),q&&e.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500 rounded-md text-green-400",children:q}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-white mb-2",children:"Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:B,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Enter blog title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"author",className:"block text-sm font-semibold text-white mb-2",children:"Author *"}),e.jsx("input",{type:"text",id:"author",name:"author",value:s.author,onChange:B,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Author name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-semibold text-white mb-2",children:"Excerpt *"}),e.jsx("textarea",{id:"excerpt",name:"excerpt",value:s.excerpt,onChange:B,required:!0,rows:3,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Short description (shown in blog lists)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-semibold text-white mb-2",children:"Content *"}),e.jsx("textarea",{id:"content",name:"content",value:s.content,onChange:B,required:!0,rows:12,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red font-mono text-sm",placeholder:"Full blog content (Markdown supported)"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supports Markdown formatting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Featured Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[N&&e.jsxs("div",{className:"relative w-full h-48 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:N,alt:"Featured preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{_(null),A(void 0),O.current&&(O.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:"✕"})]}),e.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:m=>z("featured",m),"aria-label":"Upload featured image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 1200x630px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Thumbnail Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[J&&e.jsxs("div",{className:"relative w-48 h-48 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:J,alt:"Thumbnail preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{U(null),E(void 0),F.current&&(F.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:"✕"})]}),e.jsx("input",{ref:F,type:"file",accept:"image/*",onChange:m=>z("thumbnail",m),"aria-label":"Upload thumbnail image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 400x400px, max 5MB"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"published",checked:s.published,onChange:B,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Published"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:()=>V(!I),className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Publish on Save"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"featured",checked:s.featured,onChange:B,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Featured"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[e.jsx("button",{type:"submit",disabled:$,className:"flex-1 px-6 py-3 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors disabled:bg-devil-red/50 disabled:cursor-not-allowed",children:$?"Creating Blog...":t?"Update Blog":"Create Blog"}),e.jsx("button",{type:"button",onClick:H,disabled:$,className:"px-4 py-3 font-semibold text-white bg-devil-gray border border-gray-700 hover:bg-devil-gray/90 rounded-md transition-colors disabled:opacity-50",children:"Preview"}),e.jsx("button",{type:"button",onClick:R,disabled:$,className:"px-6 py-3 font-semibold text-gray-400 border border-gray-700 hover:bg-devil-gray rounded-md transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})},te=({token:c,project:t,onSuccess:L,onCancel:R})=>{const[s,C]=a.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",long_description:(t==null?void 0:t.long_description)||"",demo_url:(t==null?void 0:t.demo_url)||"",github_url:(t==null?void 0:t.github_url)||"",live_url:(t==null?void 0:t.live_url)||"",tech_stack:t!=null&&t.tech_stack?JSON.parse(t.tech_stack):[],status:(t==null?void 0:t.status)||"Completed",published:(t==null?void 0:t.published)||!1,featured:(t==null?void 0:t.featured)||!1}),[I,V]=a.useState(!1),[f,_]=a.useState(""),[n,U]=a.useState(null),[N,A]=a.useState(null),[J,E]=a.useState(t==null?void 0:t.featured_image),[$,P]=a.useState(t==null?void 0:t.thumbnail_image),[S,g]=a.useState(!1),[q,h]=a.useState(""),[O,F]=a.useState(""),[B,z]=a.useState(!1),T=a.useRef(null),H=a.useRef(null),m=d=>{const{name:w,value:p,type:j}=d.target,l=d.target.checked;C(x=>({...x,[w]:j==="checkbox"?l:p}))},b=()=>{f.trim()&&!s.tech_stack.includes(f.trim())&&(C(d=>({...d,tech_stack:[...d.tech_stack,f.trim()]})),_(""))},u=d=>{C(w=>({...w,tech_stack:w.tech_stack.filter(p=>p!==d)}))},v=(d,w)=>{var l;const p=(l=w.target.files)==null?void 0:l[0];if(!p)return;if(!p.type.startsWith("image/")){h("Please select a valid image file");return}if(p.size>5*1024*1024){h("Image size must be less than 5MB");return}const j=new FileReader;j.onloadend=()=>{d==="featured"?(U(p),E(j.result)):(A(p),P(j.result))},j.readAsDataURL(p)},y=async d=>{d.preventDefault(),g(!0),h(""),F("");try{let w=t==null?void 0:t.featured_image,p=t==null?void 0:t.thumbnail_image;n&&(w=(await i.uploadImage(c,n,"projects",{used_in:"project",alt_text:s.title})).storage_url),N&&(p=(await i.uploadImage(c,N,"projects",{used_in:"project_thumbnail",alt_text:`${s.title} thumbnail`})).storage_url);const j={...s,tech_stack:JSON.stringify(s.tech_stack),featured_image:w,thumbnail_image:p};I&&(j.published=!0),t?(await i.updateProject(c,t.id,j),F("Project updated successfully!")):(await i.createProject(c,j),F("Project created successfully!")),setTimeout(()=>{L()},1500)}catch(w){h(w instanceof Error?w.message:"Failed to create project")}finally{g(!1)}},M=async()=>{g(!0),h("");try{const d=c;let w=t==null?void 0:t.featured_image,p=t==null?void 0:t.thumbnail_image;n&&(w=(await i.uploadImage(d,n,"projects",{used_in:"project",alt_text:s.title})).storage_url),N&&(p=(await i.uploadImage(d,N,"projects",{used_in:"project_thumbnail",alt_text:`${s.title} thumbnail`})).storage_url);const j={...s,tech_stack:JSON.stringify(s.tech_stack),featured_image:w,thumbnail_image:p};let l;t?l=await i.updateProject(d,t.id,j):l=await i.createProject(d,j);const x=`
      <!doctype html>
      <html>
      <head><meta charset="utf-8"><title>${l.title}</title></head>
      <body style="background:#0b0b0b;color:#fff;padding:32px;font-family:sans-serif;">
        <h1>${l.title}</h1>
        ${K(l.long_description||l.description)||""}
      </body>
      </html>`,r=window.open("","_blank");r&&r.document.write(x)}catch(d){h(d instanceof Error?d.message:"Failed to preview project")}finally{g(!1)}},D=async()=>{g(!0),h("");try{let d=t==null?void 0:t.featured_image,w=t==null?void 0:t.thumbnail_image;n&&(d=(await i.uploadImage(c,n,"projects",{used_in:"project",alt_text:s.title})).storage_url),N&&(w=(await i.uploadImage(c,N,"projects",{used_in:"project_thumbnail",alt_text:`${s.title} thumbnail`})).storage_url);const p={...s,tech_stack:JSON.stringify(s.tech_stack),featured_image:d,thumbnail_image:w};let j;t?j=await i.updateProject(c,t.id,p):j=await i.createProject(c,p),z(!0)}catch(d){h(d instanceof Error?d.message:"Failed to preview project")}finally{g(!1)}};return e.jsxs("div",{className:"bg-devil-gray/50 rounded-lg p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-devil-red",children:t?"Edit Project":"Create New Project"}),e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),q&&e.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-md text-red-400",children:q}),O&&e.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500 rounded-md text-green-400",children:O}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-white mb-2",children:"Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:m,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Enter project title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-white mb-2",children:"Short Description *"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:m,required:!0,rows:3,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Brief description (shown in project cards)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"long_description",className:"block text-sm font-semibold text-white mb-2",children:"Detailed Description"}),e.jsx("textarea",{id:"long_description",name:"long_description",value:s.long_description,onChange:m,rows:8,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Full project details, features, challenges, outcomes..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Tech Stack"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:f,onChange:d=>_(d.target.value),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),b()),className:"flex-1 bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Add technology (e.g., React, Python)"}),e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-devil-red text-white rounded-md hover:bg-devil-red-dark transition-colors",children:"Add"})]}),s.tech_stack.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tech_stack.map(d=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-devil-gray border border-devil-red/50 rounded-full text-sm text-white",children:[d,e.jsx("button",{type:"button",onClick:()=>u(d),className:"text-devil-red hover:text-red-400",children:"✕"})]},d))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"demo_url",className:"block text-sm font-semibold text-white mb-2",children:"Demo URL"}),e.jsx("input",{type:"url",id:"demo_url",name:"demo_url",value:s.demo_url,onChange:m,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"github_url",className:"block text-sm font-semibold text-white mb-2",children:"GitHub URL"}),e.jsx("input",{type:"url",id:"github_url",name:"github_url",value:s.github_url,onChange:m,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"https://github.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"live_url",className:"block text-sm font-semibold text-white mb-2",children:"Live URL"}),e.jsx("input",{type:"url",id:"live_url",name:"live_url",value:s.live_url,onChange:m,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"https://..."})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-white mb-2",children:"Status *"}),e.jsxs("select",{id:"status",name:"status",value:s.status,onChange:m,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",children:[e.jsx("option",{value:"Planning",children:"Planning"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"On Hold",children:"On Hold"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Featured Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[J&&e.jsxs("div",{className:"relative w-full h-48 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:J,alt:"Featured preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{U(null),E(void 0),T.current&&(T.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:"✕"})]}),e.jsx("input",{ref:T,type:"file",accept:"image/*",onChange:d=>v("featured",d),"aria-label":"Upload featured image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 1200x630px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Thumbnail Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[$&&e.jsxs("div",{className:"relative w-48 h-48 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:$,alt:"Thumbnail preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{A(null),P(void 0),H.current&&(H.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:"✕"})]}),e.jsx("input",{ref:H,type:"file",accept:"image/*",onChange:d=>v("thumbnail",d),"aria-label":"Upload thumbnail image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 400x400px, max 5MB"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"published",checked:s.published,onChange:m,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Published"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:()=>V(!I),className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Publish on Save"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"featured",checked:s.featured,onChange:m,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Featured"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[e.jsx("button",{type:"submit",disabled:S,className:"flex-1 px-6 py-3 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors disabled:bg-devil-red/50 disabled:cursor-not-allowed",children:S?"Creating Project...":t?"Update Project":"Create Project"}),e.jsx("button",{type:"button",onClick:R,disabled:S,className:"px-6 py-3 font-semibold text-gray-400 border border-gray-700 hover:bg-devil-gray rounded-md transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"button",onClick:M,disabled:S,className:"px-4 py-3 font-semibold text-white bg-devil-gray border border-gray-700 hover:bg-devil-gray/90 rounded-md transition-colors disabled:opacity-50",children:"Preview"}),e.jsx("button",{type:"button",onClick:D,disabled:S,className:"px-6 py-3 font-semibold text-white border border-gray-700 hover:bg-devil-gray rounded-md transition-colors disabled:opacity-50",children:"Preview"})]})]}),B&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8 bg-black/60",children:e.jsxs("div",{className:"bg-devil-gray rounded-lg max-w-4xl w-full p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Project Preview"}),e.jsx("button",{onClick:()=>z(!1),className:"text-gray-300",children:"✕"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:s.title}),e.jsx("p",{className:"mt-2 text-gray-300",children:s.description}),s.long_description&&e.jsx("div",{className:"prose prose-invert mt-4",dangerouslySetInnerHTML:{__html:K(s.long_description)||""}})]})]})})]})},se=({token:c,service:t,onSuccess:L,onCancel:R})=>{const[s,C]=a.useState({title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",long_description:(t==null?void 0:t.long_description)||"",price:(t==null?void 0:t.price)||0,price_range:(t==null?void 0:t.price_range)||"",currency:(t==null?void 0:t.currency)||"USD",duration:(t==null?void 0:t.duration)||"",features:t!=null&&t.features?JSON.parse(t.features):[],deliverables:t!=null&&t.deliverables?JSON.parse(t.deliverables):[],active:(t==null?void 0:t.active)!==void 0?t.active:!0,featured:(t==null?void 0:t.featured)||!1}),[I,V]=a.useState(""),[f,_]=a.useState(""),[n,U]=a.useState(null),[N,A]=a.useState(null),[J,E]=a.useState(t==null?void 0:t.featured_image),[$,P]=a.useState(t==null?void 0:t.icon),[S,g]=a.useState(!1),[q,h]=a.useState(""),[O,F]=a.useState(""),[B,z]=a.useState(!1),[T,H]=a.useState(!1),m=a.useRef(null),b=a.useRef(null),u=l=>{const{name:x,value:r,type:o}=l.target,k=l.target.checked;C(G=>({...G,[x]:o==="checkbox"?k:o==="number"?Number(r):r}))},v=()=>{I.trim()&&!s.features.includes(I.trim())&&(C(l=>({...l,features:[...l.features,I.trim()]})),V(""))},y=l=>{C(x=>({...x,features:x.features.filter(r=>r!==l)}))},M=()=>{f.trim()&&!s.deliverables.includes(f.trim())&&(C(l=>({...l,deliverables:[...l.deliverables,f.trim()]})),_(""))},D=l=>{C(x=>({...x,deliverables:x.deliverables.filter(r=>r!==l)}))},d=(l,x)=>{var k;const r=(k=x.target.files)==null?void 0:k[0];if(!r)return;if(!r.type.startsWith("image/")){h("Please select a valid image file");return}if(r.size>5*1024*1024){h("Image size must be less than 5MB");return}const o=new FileReader;o.onloadend=()=>{l==="featured"?(U(r),E(o.result)):(A(r),P(o.result))},o.readAsDataURL(r)},w=async l=>{l.preventDefault(),g(!0),h(""),F("");try{let x=t==null?void 0:t.featured_image,r=t==null?void 0:t.icon;n&&(x=(await i.uploadImage(c,n,"services",{used_in:"service",alt_text:s.title})).storage_url),N&&(r=(await i.uploadImage(c,N,"services",{used_in:"service_icon",alt_text:`${s.title} icon`})).storage_url);const o={...s,features:JSON.stringify(s.features),deliverables:JSON.stringify(s.deliverables),featured_image:x,icon:r};T&&(o.active=!0),t?(await i.updateService(c,t.id,o),F("Service updated successfully!")):(await i.createService(c,o),F("Service created successfully!")),setTimeout(()=>{L()},1500)}catch(x){h(x instanceof Error?x.message:"Failed to create service")}finally{g(!1)}},p=async()=>{g(!0),h("");try{let l=t==null?void 0:t.featured_image,x=t==null?void 0:t.icon;n&&(l=(await i.uploadImage(c,n,"services",{used_in:"service",alt_text:s.title})).storage_url),N&&(x=(await i.uploadImage(c,N,"services",{used_in:"service_icon",alt_text:`${s.title} icon`})).storage_url);const r={...s,features:JSON.stringify(s.features),deliverables:JSON.stringify(s.deliverables),featured_image:l,icon:x};t?await i.updateService(c,t.id,r):await i.createService(c,r),z(!0)}catch(l){h(l instanceof Error?l.message:"Failed to preview service")}finally{g(!1)}},j=async()=>{g(!0),h("");try{const l=c;let x=t==null?void 0:t.featured_image,r=t==null?void 0:t.icon;n&&(x=(await i.uploadImage(l,n,"services",{used_in:"service",alt_text:s.title})).storage_url),N&&(r=(await i.uploadImage(l,N,"services",{used_in:"service_icon",alt_text:`${s.title} icon`})).storage_url);const o={...s,features:JSON.stringify(s.features),deliverables:JSON.stringify(s.deliverables),featured_image:x,icon:r};let k;t?k=await i.updateService(l,t.id,o):k=await i.createService(l,o);const G=`
      <!doctype html>
      <html>
      <head><meta charset="utf-8"><title>${k.title}</title></head>
      <body style="background:#0b0b0b;color:#fff;padding:32px;font-family:sans-serif;">
        <h1>${k.title}</h1>
        ${K(k.long_description||k.description)||""}
      </body>
      </html>`,W=window.open("","_blank");W&&W.document.write(G)}catch(l){h(l instanceof Error?l.message:"Failed to preview service")}finally{g(!1)}};return e.jsxs("div",{className:"bg-devil-gray/50 rounded-lg p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-devil-red",children:t?"Edit Service":"Create New Service"}),e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),q&&e.jsx("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500 rounded-md text-red-400",children:q}),O&&e.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500 rounded-md text-green-400",children:O}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-white mb-2",children:"Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:u,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Enter service title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-white mb-2",children:"Short Description *"}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:u,required:!0,rows:3,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Brief description (shown in service cards)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"long_description",className:"block text-sm font-semibold text-white mb-2",children:"Detailed Description"}),e.jsx("textarea",{id:"long_description",name:"long_description",value:s.long_description,onChange:u,rows:6,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Full service details, process, benefits..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-white mb-2",children:"Price"}),e.jsx("input",{type:"number",id:"price",name:"price",value:s.price,onChange:u,min:"0",step:"0.01",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price_range",className:"block text-sm font-semibold text-white mb-2",children:"Price Range"}),e.jsx("input",{type:"text",id:"price_range",name:"price_range",value:s.price_range,onChange:u,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"$500 - $1000"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-semibold text-white mb-2",children:"Currency *"}),e.jsxs("select",{id:"currency",name:"currency",value:s.currency,onChange:u,required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"GBP",children:"GBP (£)"}),e.jsx("option",{value:"INR",children:"INR (₹)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-semibold text-white mb-2",children:"Duration"}),e.jsx("input",{type:"text",id:"duration",name:"duration",value:s.duration,onChange:u,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"e.g., 2-4 weeks, 1 month"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Features"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:I,onChange:l=>V(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),v()),className:"flex-1 bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Add feature (e.g., Custom Design)"}),e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-devil-red text-white rounded-md hover:bg-devil-red-dark transition-colors",children:"Add"})]}),s.features.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.features.map(l=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-devil-gray border border-devil-red/50 rounded-full text-sm text-white",children:[l,e.jsx("button",{type:"button",onClick:()=>y(l),className:"text-devil-red hover:text-red-400",children:"✕"})]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Deliverables"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:f,onChange:l=>_(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),M()),className:"flex-1 bg-devil-gray border border-gray-700 rounded-md p-3 text-white focus:ring-devil-red focus:border-devil-red",placeholder:"Add deliverable (e.g., Source Code)"}),e.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-devil-red text-white rounded-md hover:bg-devil-red-dark transition-colors",children:"Add"})]}),s.deliverables.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.deliverables.map(l=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-devil-gray border border-devil-red/50 rounded-full text-sm text-white",children:[l,e.jsx("button",{type:"button",onClick:()=>D(l),className:"text-devil-red hover:text-red-400",children:"✕"})]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Icon Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[$&&e.jsxs("div",{className:"relative w-24 h-24 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:$,alt:"Icon preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{A(null),P(void 0),b.current&&(b.current.value="")},className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors text-xs",children:"✕"})]}),e.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:l=>d("icon",l),"aria-label":"Upload icon image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 64x64px or 128x128px, max 5MB"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Featured Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[J&&e.jsxs("div",{className:"relative w-full h-48 rounded-md overflow-hidden border border-gray-700",children:[e.jsx("img",{src:J,alt:"Featured preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>{U(null),E(void 0),m.current&&(m.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors",children:"✕"})]}),e.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:l=>d("featured",l),"aria-label":"Upload featured image",className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:bg-devil-red file:text-white file:cursor-pointer hover:file:bg-devil-red-dark"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Recommended: 1200x630px, max 5MB"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"active",checked:s.active,onChange:u,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:()=>H(!T),className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Publish on Save"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"featured",checked:s.featured,onChange:u,className:"w-5 h-5 bg-devil-gray border border-gray-700 rounded focus:ring-devil-red"}),e.jsx("span",{className:"text-white",children:"Featured"})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-700",children:[e.jsx("button",{type:"submit",disabled:S,className:"flex-1 px-6 py-3 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors disabled:bg-devil-red/50 disabled:cursor-not-allowed",children:S?"Creating Service...":t?"Update Service":"Create Service"}),e.jsx("button",{type:"button",onClick:R,disabled:S,className:"px-6 py-3 font-semibold text-gray-400 border border-gray-700 hover:bg-devil-gray rounded-md transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"button",onClick:p,disabled:S,className:"px-6 py-3 font-semibold text-white border border-gray-700 hover:bg-devil-gray rounded-md transition-colors disabled:opacity-50",children:"Preview"}),e.jsx("button",{type:"button",onClick:j,disabled:S,className:"px-4 py-3 font-semibold text-white bg-devil-gray border border-gray-700 hover:bg-devil-gray/90 rounded-md transition-colors disabled:opacity-50",children:"Preview (new tab)"})]})]}),B&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8 bg-black/60",children:e.jsxs("div",{className:"bg-devil-gray rounded-lg max-w-4xl w-full p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Service Preview"}),e.jsx("button",{onClick:()=>z(!1),className:"text-gray-300",children:"✕"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:s.title}),e.jsx("p",{className:"mt-2 text-gray-300",children:s.description}),s.long_description&&e.jsx("div",{className:"prose prose-invert mt-4",dangerouslySetInnerHTML:{__html:K(s.long_description)||""}})]})]})})]})},ie=()=>{const[c,t]=a.useState(!1),[L,R]=a.useState({username:"",password:""}),[s,C]=a.useState("idle"),[I,V]=a.useState(""),[f,_]=a.useState("overview"),[n,U]=a.useState(null),[N,A]=a.useState("list"),[J,E]=a.useState("list"),[$,P]=a.useState("list"),[S,g]=a.useState(null),[q,h]=a.useState(null),[O,F]=a.useState(null),[B,z]=a.useState([]),[T,H]=a.useState([]),[m,b]=a.useState([]),[u,v]=a.useState(!1),[y,M]=a.useState(null),D=async()=>{if(n){v(!0),M(null);try{const[r,o,k]=await Promise.all([i.getAllServices(n),i.getAllBlogs(n),i.getAllProjects(n)]);z(r),H(o),b(k)}catch(r){console.error("Failed to fetch data:",r),M("Failed to load data. Please check your connection or try again.")}finally{v(!1)}}};a.useEffect(()=>{c&&n&&D()},[c,n]),a.useEffect(()=>{const r=localStorage.getItem("authToken");r&&(U(r),t(!0))},[]);const d=r=>{const{name:o,value:k}=r.target;R(G=>({...G,[o]:k}))},w=async r=>{r.preventDefault(),C("submitting"),V("");try{const{token:o}=await Z(L);localStorage.setItem("authToken",o),U(o),t(!0),C("idle")}catch(o){C("error"),V(o instanceof Error?o.message:"An unknown error occurred.")}},p=()=>{localStorage.removeItem("authToken"),U(null),t(!1),R({username:"",password:""}),_("overview")},j=async r=>{if(!(!n||!window.confirm("Are you sure you want to delete this service?")))try{await i.deleteService(n,r),D()}catch(o){console.error("Failed to delete service:",o),alert("Failed to delete service")}},l=async r=>{if(!(!n||!window.confirm("Are you sure you want to delete this blog post?")))try{await i.deleteBlog(n,r),D()}catch(o){console.error("Failed to delete blog:",o),alert("Failed to delete blog")}},x=async r=>{if(!(!n||!window.confirm("Are you sure you want to delete this project?")))try{await i.deleteProject(n,r),D()}catch(o){console.error("Failed to delete project:",o),alert("Failed to delete project")}};return e.jsxs("div",{className:"pt-24 pb-12",children:[e.jsx(X,{title:"Admin Panel",subtitle:"Site Management"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 mt-12",children:c?e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-6 sm:mb-8 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsx("button",{onClick:()=>_("overview"),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-md font-semibold transition-colors whitespace-nowrap text-sm sm:text-base ${f==="overview"?"bg-devil-red text-white":"bg-devil-gray text-gray-400 hover:text-white"}`,children:"Overview"}),e.jsxs("button",{onClick:()=>_("services"),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-md font-semibold transition-colors whitespace-nowrap text-sm sm:text-base ${f==="services"?"bg-devil-red text-white":"bg-devil-gray text-gray-400 hover:text-white"}`,children:[e.jsxs("span",{className:"hidden sm:inline",children:["Services (",B.length,")"]}),e.jsx("span",{className:"sm:hidden",children:"Services"})]}),e.jsxs("button",{onClick:()=>_("blogs"),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-md font-semibold transition-colors whitespace-nowrap text-sm sm:text-base ${f==="blogs"?"bg-devil-red text-white":"bg-devil-gray text-gray-400 hover:text-white"}`,children:[e.jsxs("span",{className:"hidden sm:inline",children:["Blogs (",T.length,")"]}),e.jsx("span",{className:"sm:hidden",children:"Blogs"})]}),e.jsxs("button",{onClick:()=>_("projects"),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-md font-semibold transition-colors whitespace-nowrap text-sm sm:text-base ${f==="projects"?"bg-devil-red text-white":"bg-devil-gray text-gray-400 hover:text-white"}`,children:[e.jsxs("span",{className:"hidden sm:inline",children:["Projects (",m.length,")"]}),e.jsx("span",{className:"sm:hidden",children:"Projects"})]})]}),e.jsxs("div",{className:"glassmorphic rounded-lg p-4 sm:p-6 lg:p-8",children:[y&&e.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500 rounded-md text-red-400 flex justify-between items-center",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:D,className:"text-sm underline hover:text-white",children:"Retry"})]}),f==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-devil-red",children:"Management Dashboard"}),e.jsx("button",{onClick:p,className:"w-full sm:w-auto px-4 sm:px-6 py-2 font-bold text-white bg-devil-red/80 hover:bg-devil-red rounded-md transition-colors text-sm sm:text-base",children:"Logout"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-devil-red/20",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-devil-red mb-2",children:"Services"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:B.length}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Active offerings"})]}),e.jsxs("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-devil-red/20",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-devil-red mb-2",children:"Blog Posts"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:T.length}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Published articles"})]}),e.jsxs("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-devil-red/20 sm:col-span-2 lg:col-span-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-devil-red mb-2",children:"Projects"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:m.length}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:"Portfolio items"})]})]}),e.jsxs("div",{className:"bg-devil-gray/30 p-4 sm:p-6 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:()=>_("services"),className:"p-3 sm:p-4 bg-devil-gray hover:bg-devil-red/20 border border-gray-700 hover:border-devil-red rounded-md text-left transition-colors",children:[e.jsx("span",{className:"text-devil-red font-semibold text-sm sm:text-base",children:"Manage Services"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Add, edit, or remove service offerings"})]}),e.jsxs("button",{onClick:()=>_("blogs"),className:"p-3 sm:p-4 bg-devil-gray hover:bg-devil-red/20 border border-gray-700 hover:border-devil-red rounded-md text-left transition-colors",children:[e.jsx("span",{className:"text-devil-red font-semibold text-sm sm:text-base",children:"Manage Blogs"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Create and publish blog posts"})]}),e.jsxs("button",{onClick:()=>_("projects"),className:"p-3 sm:p-4 bg-devil-gray hover:bg-devil-red/20 border border-gray-700 hover:border-devil-red rounded-md text-left transition-colors",children:[e.jsx("span",{className:"text-devil-red font-semibold text-sm sm:text-base",children:"Manage Projects"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Showcase portfolio projects"})]}),e.jsxs("a",{href:"http://localhost:8000/docs",target:"_blank",rel:"noopener noreferrer",className:"p-3 sm:p-4 bg-devil-gray hover:bg-devil-red/20 border border-gray-700 hover:border-devil-red rounded-md text-left transition-colors block",children:[e.jsx("span",{className:"text-devil-red font-semibold text-sm sm:text-base",children:"API Documentation"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"View full API reference"})]})]})]})]}),f==="services"&&e.jsx("div",{children:$==="list"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-devil-red",children:"Services Management"}),e.jsx("button",{onClick:()=>P("create"),className:"w-full sm:w-auto text-center px-4 sm:px-6 py-2 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors text-sm sm:text-base",children:"Add Service"})]}),u?e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Loading services..."}):y?e.jsx("p",{className:"text-devil-red text-sm sm:text-base",children:y}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:B.map(r=>e.jsx("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-gray-700 hover:border-devil-red transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-white",children:r.title}),e.jsx("p",{className:"text-gray-400 mt-2 text-sm sm:text-base",children:r.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 mt-4 text-xs sm:text-sm",children:[e.jsxs("span",{className:"text-devil-red font-semibold",children:["$",r.price]}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsx("span",{className:"text-gray-400",children:r.duration}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsx("span",{className:r.active?"text-green-400":"text-gray-500",children:r.active?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>{F(r),P("edit")},className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-devil-red border border-devil-red hover:bg-devil-red hover:text-white rounded-md transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>j(r.id),className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-white bg-red-600 border border-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"})]})]})},r.id))})]}):e.jsx(se,{token:n,service:O??void 0,onSuccess:()=>{P("list"),F(null),D()},onCancel:()=>{P("list"),F(null)}})}),f==="blogs"&&e.jsx("div",{children:N==="list"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-devil-red",children:"Blog Management"}),e.jsx("button",{onClick:()=>A("create"),className:"w-full sm:w-auto text-center px-4 sm:px-6 py-2 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors text-sm sm:text-base",children:"Create Blog"})]}),u?e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Loading blogs..."}):y?e.jsx("p",{className:"text-devil-red text-sm sm:text-base",children:y}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.map(r=>e.jsx("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-gray-700 hover:border-devil-red transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-white",children:r.title}),e.jsx("p",{className:"text-gray-400 mt-2 text-sm sm:text-base line-clamp-2",children:r.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 mt-4 text-xs sm:text-sm",children:[e.jsxs("span",{className:"text-gray-400",children:["By ",r.author]}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-400",children:[r.views," views"]}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsx("span",{className:r.published?"text-green-400":"text-yellow-400",children:r.published?"Published":"Draft"})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>{g(r),A("edit")},className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-devil-red border border-devil-red hover:bg-devil-red hover:text-white rounded-md transition-colors",children:"Edit"}),e.jsx("button",{onClick:async()=>{if(n)try{await i.updateBlog(n,r.id,{published:!r.published}),D()}catch(o){console.error(o)}},className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-white bg-devil-gray border border-gray-700 hover:bg-devil-red rounded-md transition-colors",children:r.published?"Unpublish":"Publish"}),e.jsx("button",{onClick:()=>l(r.id),className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-white bg-red-600 border border-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"})]})]})},r.id))})]}):e.jsx(ee,{token:n,blog:S??void 0,onSuccess:()=>{A("list"),g(null),D()},onCancel:()=>{A("list"),g(null)}})}),f==="projects"&&e.jsx("div",{children:J==="list"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-devil-red",children:"Project Management"}),e.jsx("button",{onClick:()=>E("create"),className:"w-full sm:w-auto text-center px-4 sm:px-6 py-2 font-bold text-white bg-devil-red hover:bg-devil-red-dark rounded-md transition-colors text-sm sm:text-base",children:"Create Project"})]}),u?e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Loading projects..."}):y?e.jsx("p",{className:"text-devil-red text-sm sm:text-base",children:y}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:m.map(r=>e.jsx("div",{className:"bg-devil-gray/50 p-4 sm:p-6 rounded-lg border border-gray-700 hover:border-devil-red transition-colors",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-white",children:r.title}),e.jsx("p",{className:"text-gray-400 mt-2 text-sm sm:text-base line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 mt-4 text-xs sm:text-sm",children:[e.jsx("span",{className:"text-gray-400",children:r.status}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-400",children:[r.views," views"]}),r.demo_url&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsx("a",{href:r.demo_url,target:"_blank",rel:"noopener noreferrer",className:"text-devil-red hover:underline",children:"Demo"})]})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>{h(r),E("edit")},className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-devil-red border border-devil-red hover:bg-devil-red hover:text-white rounded-md transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>x(r.id),className:"flex-1 sm:flex-none text-center px-4 py-2 text-sm font-semibold text-white bg-red-600 border border-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"})]})]})},r.id))})]}):e.jsx(te,{token:n,project:q??void 0,onSuccess:()=>{E("list"),h(null),D()},onCancel:()=>{E("list"),h(null)}})})]})]}):e.jsx("div",{className:"max-w-lg mx-auto p-8 glassmorphic rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-devil-red",children:"Admin Login"}),e.jsx("p",{className:"mt-4 text-gray-300",children:"Enter your credentials to access the site management dashboard."}),e.jsxs("form",{onSubmit:w,className:"space-y-4 mt-8 text-left",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",value:L.username,onChange:d,placeholder:"Username",required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 focus:ring-devil-red focus:border-devil-red"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:L.password,onChange:d,placeholder:"Password",required:!0,className:"w-full bg-devil-gray border border-gray-700 rounded-md p-3 focus:ring-devil-red focus:border-devil-red"})]}),I&&e.jsx("p",{className:"text-sm text-devil-red text-center",children:I}),e.jsx("button",{type:"submit",disabled:s==="submitting",className:"w-full px-6 py-3 font-bold text-white bg-devil-red hover:bg-devil-red-dark border border-devil-red rounded-md transition-colors disabled:bg-devil-red/50 disabled:cursor-not-allowed",children:s==="submitting"?"Logging in...":"Login"})]})]})})})]})};export{ie as default};
